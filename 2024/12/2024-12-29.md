# Effective Java

# **Item 67. 최적화는 신중히 하라**

- 최적화를 통해 성능이 개선되는 경우도 많지만 오히려 악화되는 경우도 많다.
    - 충분히 분석하고 최적화가 필요하다고 판단되는 순간에만 최적화를 진행해야한다.
- 그렇지만 특히 API, 네트워크 프로토콜, 영구 저장용 데이터 포맷을 설계할 때는 성능을 염두해야 한다.
- 변경이 완료된 후에 기존 프로세스와 성능 비교를 하는 것을 권장한다.

## 설계를 통한 성능 개선

- 성능을 제한하는 설계를 피해야 한다.
    - 설계적인 요소는 완성 후 변경하기가 가장 어렵기 때문에 설계 단계부터 이를 염두해야 한다.
- API를 설계할 때 성능에 주는 영향을 고려해야 한다
    - `public 필드`를 가변 속성으로 만들면 어쩔 수 없이 방어적 복사를 처리를 해야할 수 있다.
    - 조합으로 작성할 수 있는 부분을 상속으로 만들면 성능 제약까지 물려받을 수 있다.
    - 인터페이스 대신 구현체를 사용하는 것도 나중에 더 빠른 구현체가 나왔을 때 변경의 제약이 있을 수 있다.

# Item 68. 일반적으로 통용되는 명명 규칙을 따르라

- Java는 오랫동안 사용하는 명명 규칙이 존재한다.
    - 그렇기 때문에 자기만의 변수 룰로 작성하기 보다는 보편적인 컨벤션에 맞게 작성해야 한다.
- 만약 보편적인 정책과 팀 내 코드 컨벤션이 충돌하는 경우에는 팀원들과 소통하여 룰을 정의하는 방향으로 정리하면 된다.

## 철자 규칙

- 패키지, 클래스, 인터페이스, 메서드, 필드, 타입 변수의 이름을 정의하는 규칙이다.

### 패키지 이름 규칙

- 점(.)으로 구분하여 계층적으로 이름을 짓는다.
- 일반적으로 인터넷 도메인 이름을 역순으로 사용한다.
    - ex) `com.notion`
- 표준 라이브러리 및 선택적 패키지는 `java`와 `javax`로 시작한다.
- 보통 8자 이하의 짧은 단어를 사용하거나 길이가 긴 경우에는 약어를 사용한다
    - `utilities` -> `utils`
    - `JSON Web Token` -> `jwt`

### **클래스와 인터페이스 이름 규칙**

- 각 단어는 대문자로 시작한다.
- 널리 통용된 줄임말(max, min 등)을 제외하고는 단어를 줄여쓰지 않는다.
- 약자의 경우는 첫글자만 대문자로 할지 약간의 논쟁이 있으나, 첫글자만 대문자로 하는게 알아보기 좋다.
    - `HttpUtils` / `HTTPUTILS` 를 기준으로 보면 전체가 대문자인 경우에는 끊어서 보기가 어렵다
- 열거타입과 애너테이션도 동일한 컨벤션이 적용된다.

### 메서드 이름 규칙

- 첫 글자를 소문자로 하는 것 이외에는 클래스, 인터페이스 규칙과 동일하다.
    - `remove()`, `addAll()`

### 상수 변수 이름 규칙

- 모두 대문자로 쓰고 단어 사이는 밑줄로 구분한다.
    - ex) `VALUES`, `DEFAUT_SIZE`

### 지역 변수 이름 규칙

- 지역 변수에 한해서는 문맥에서 의미를 쉽게 유추할 수 있는 경우에 한해 약어를 써도 된다.
    - 이 부분은 팀 내 컨벤션에 맞게 작성하는 것을 권장한다.
- 입력 매개변수(파라미터)도 지역 변수의 일종으로 보고 동일한 컨벤션이 적용된다.

### 타입 매개변수(제네릭) 이름 규칙

- `T`
    - 임의의 타입을 말한다.
- `E`
    - 컬렉션 원소의 타입을 말한다.
- `K, V`
    - 맵의 키와 값을 말한다.
- `X`
    - 예외를 말한다.
- `R`
    - 메서드의 반환 타입을 말한다.
- `T, U, V`, `T1, T2, T3`
    - 임의의 타입 시퀀스를 말한다.

## 문법 규칙

- 철자 규칙에 비해 더 유연하다
    - 애매한 경우에는 팀 내 컨벤션에 맞게 처리하면 된다.

### 클래스와 인터페이스 이름 규칙

- 객체를 생성할 수 있는 클래스라면 단수명사 혹은 명사구를 사용한다.
    - `Thread`, `PrioirtyQueue`, `ChessPiece`
- 객체를 생성할 수 없는 클래스라면 보통 복수형 명사로 짓는다.
    - `Collections`, `Collectors`
- 인터페이스 이름은 `able` 혹은 `ible` 로 끝나는 형용사로 짓는다.
    - 상황에 따라서는 클래스와 동일하게 작성해도 무방하다.
    - `Runnable`, `Iterable`, `Accssible`, `Closeable`

### 메서드 이름 규칙

- 동작을 수행하는 메서드는 동사나 동사구로 짓는다.
    - `append`, `drawImage`
- `boolean` 값을 반환하는 메서드는 `is`나 `has`로 시작하고, 명사, 명사구, 형용사로 기능하는 아무 단어나 구로 끝나도록 짓는다.
    - `isDigit`, `isProbablePrime`, `isEmpty`, `isEnabled`, `hasSiblings`
- 반환 타입이 `boolean` 이 아니거나, 속성을 반환하는 메서드는 명사, 명사구 혹은 `get`으로 시작하는 동사구로 짓는다.
    - `size`, `hashCode`, `getTime`
    - `get` 으로 써야 한다는 의견도 존재하기에 팀 내 컨벤션에 맞게 처리하는 것이 가장 중요하다.
- 객체의 타입을 바꿔서 다른 타입의 같은 내용의 객체를 반환할 때는 일반적으로 `toType` 으로 명명한다.
    - `toString`, `toArray`
- 객체의 내용을 다른 뷰로 보여주는 메서드는 `asType` 형태로 명명한다.
    - `asList`
- 객체의 값을 기본 타입 값으로 반환하는 메서드의 이름은 일반적으로 `typeValue` 형태로 명명한다.
    - `intValue`
- 정적 팩터리의 경우는 `create`,`from`, `of` 등의 룰셋을 가지고 있다.
    - `create`, `of` 모두 상황에 맞게 작성해야 한다.
    - `valueOf()`, `list.of()`

### 필드 이름 규칙

- 필드 이름은 클래스, 인터페이스, 메서드 이름에 비해 명확하고 강제성이 적다
- `boolean` 타입의 필드 이름은 보통 `boolean` 접근자 메서드에서 앞 단어를 제거한 형태를 선택한다
    - `initialized`, `composite`
- 문자열이나 숫자 타입의 필드라면 명사, 명사구를 사용한다.
    - ex) `height`, `digits`, `bodyStyle`

## 일반적인 명명 규칙에 대한 예시

| 식별자 타입 | 예 |
| --- | --- |
| 패키지와 모듈 | org.junit.jupiter.api |
| 클래스와 인터페이스 | Stream, FutureTask, HttpClient |
| 메서드와 필드 | remove, groupingBy |
| 상수필드 | MIN_VALUE |
| 지역변수 | i, denom, houseNum |
| 타입 매개변수 | T,E,K,V,X,R,U,V,T1,T2 |

