# Clean Code

# 1장 깨끗한 코드

- **깨끗한 코드**는 가독성, 명확성, 유지보수성을 갖추고 문제를 **효율적**으로 해결하는 코드다.
- 코드는 요구사항을 가장 정밀하게 표현하는 수단이며, 그 필요성 때문에 사라지지 않는다.
- 깨끗한 코드는 중복이 없고, 명확하며, 작고 단순하게 동작을 하나로 집중한다.
- 나쁜 코드는 프로젝트 속도를 느리게 하고, 팀 생산성을 떨어뜨리며, 결국 실패로 이어진다.
- **좋은 코드**를 위해 꾸준히 개선하고 주의 깊게 코드를 작성하는 **전문가 정신**이 필요하다.

## 코드는 왜 사라지지 않는가?

- **코드는 요구사항을 완벽히 명시하는 수단**이다.
    - 요구사항을 애매하게 표현하면 시스템을 정확히 실행하거나 구현할 수 없다.
    - 기계가 실행할 정도로 엄밀하고 정밀한 명세를 내리는 것이 바로 코드다.
- 추상화 수준이 높아지고, 도메인 특화 언어(DSL)가 늘어나더라도 결국 **코드는 존재**한다.
    - 코드를 없앨 수 있는 방법은 존재하지 않으며, 어떤 언어라도 본질적으로 코드는 요구사항을 구조화한 것일 뿐이다.

## **나쁜 코드의 문제와 대가**

- 나쁜 코드는 팀의 생산성을 파괴하고 결국 프로젝트를 실패로 이끈다.
    - 초기에는 빠르게 기능을 추가할 수 있지만 시간이 지나면서 읽기 어렵고 유지보수하기 힘들어진다.
    - 코드를 고칠 때마다 새로운 문제가 발생하며 점점 더 많은 **쓰레기 코드**가 쌓인다.
        - 즉, 깨진 유리창 이론처럼 상황은 점점 안 좋아진다.
- 팀 생산성이 0에 가까워지면 관리자는 **재설계**를 요구한다.
    - 재설계는 상당한 시간과 비용을 소모한다.
    - 새 시스템이 완성되기도 전에 또 다른 재설계를 요구하는 악순환이 반복된다.
- 결론적으로 나쁜 코드는 단기적으로 빠르지만, 장기적으로는 속도를 늦추고 비용을 증가시킨다.

## **깨끗한 코드를 지지하는 태도**

- 프로그래머들은 스스로를 전문가로 여겨야 한다.
    - 나쁜 코드를 작성하는 이유는 시간 부족이 아니라 **전문가 정신 부족**의 문제다.
    - 제대로 된 코드는 시간이 걸려도 결국 생산성을 높이고 프로젝트를 성공으로 이끈다.

### **전문가의 태도**

- 관리를 위해 고객과 소통하며 현실적인 경로를 제시해야 한다.
- 나쁜 코드의 위험성을 알고 이를 방어하기 위해 단호한 기준을 가져야 한다.

## **깨끗한 코드의 특성**

- 공통적인 깨끗한 코드의 특징은 다음과 같다.
    - 읽기 쉽고 **명확하며 단순**하다.
    - **중복이 없고**, 유지보수 및 확장이 쉬운 구조다.
    - **의미 있는 이름**, 테스트 가능성, 작은 크기, 명확한 의도를 가진다.

### **리더들의 정의**

- **비야네 스트롭스트룹 (C++ 창시자)**
    - “깨끗한 코드는 논리가 단순하고, 의존성이 적으며, 오류 처리가 철저하다. 한 가지를 잘 수행한다.”
- **그래디 부치**
    - “깨끗한 코드는 단순하고 읽기 쉽다. 잘 쓴 문장처럼 동작하며, 의도를 명확히 드러낸다.”
- **데이브 토마스**
    - “깨끗한 코드는 읽기 쉽고 고치기 쉬워야 한다. 단위 테스트를 포함해야 하며 코드는 문학적이어야 한다.”

## **깨끗한 코드를 작성하기 위한 원칙과 기법**

- **중복 줄이기**
    - 중복은 코드의 복잡성을 증가시키므로 가능한 중복을 제거한다.
    - 여러 번 반복되는 것은 코드가 올바르게 표현되지 않았다는 증거이다.
- **표현력 높이기**
    - 의미 있는 이름을 적절히 지정하고 코드의 의도를 명확히 드러낸다.
    - 함수, 클래스, 모듈은 한 가지에만 집중하며 명확한 경로를 보여줘야 한다.
- **간결한 추상화**
    - 코드의 복잡성을 초반부터 간단한 추상화를 적용하여 관리한다.
    - 객체지향 설계 원칙(SRP, OCP, DIP 등)을 따르며, 불필요한 복잡성을 줄인다.
- **읽기 쉬운 코드**
    - 코드를 읽는 시간은 쓰는 시간보다 훨씬 많으므로 가독성이 중요하다.
    - 가독성을 높이면 결국 작성하기도 쉬워진다.
- **보이스카우트 규칙**
    - 보이스카우트 규칙이란 **캠프장은 떠날 때 처음 왔던 것보다 더 깨끗하게 해놓고 떠나라** 라는 문구처럼 **코드를 작성하고 나갈 때** 항상 기존 코드보다 깔끔하게 정리하라는 개발 방법론 이다.
    - 한꺼번에 대규모 리팩터링을 하는 것보다 코드를 작성할 때마다 조금씩 개선하면 시간이 지나도 코드가 깨끗한 상태를 유지할 수 있다는 것을 의미한다.

## 결론적으로 깨끗한 코드란?

- 깨끗한 코드는 **가독성**과 **명확성**을 갖추고 유지보수를 쉽게 한다.
- 나쁜 코드가 프로젝트의 실패를 초래하듯 깨끗한 코드는 프로젝트를 성공으로 이끈다.
- 깨끗한 코드를 작성하기 위해서는 꾸준히 개선하려는 전문가의 태도와 지속적인 연습이 필요하다.
- **궁극적으로 깨끗한 코드**는 아름답고 기능적이며 읽는 사람에게 즐거움을 선사하는 코드다.